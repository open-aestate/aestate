Metadata-Version: 2.1
Name: CACodeFramework
Version: 1.0.1.1
Summary: CACode Framework For Python Flask,This framework corresponds to the ORM problem,You can see:https://github.com/cctvadmin/CACodeFramework-python-ORM
Home-page: https://github.com/cctvadmin/CACodeFramework-python-ORM
Author: CACode
Author-email: cacode@163.com
License: UNKNOWN
Project-URL: Bug Tracker, https://github.com/cctvadmin/CACodeFramework-python-ORM/issues
Description: # èµžåŠ©å•†æŽ’åœ¨æœ€é¡¶ä¸Šï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼
        
        ## è“æ˜Ÿç¯å¡”ç§‘æŠ€
        
        ![./imgs/logo_tr_title.png](./imgs/logo_tr_title.png)
        
        ## CACode å¼€å‘å›¢é˜Ÿ
        
        ![./imgs/icon_dev.png](./imgs/icon_dev.png)
        
        # é€‚ç”¨äºŽ flask çš„ ORM æ¡†æž¶
        
        ## pipå‘½ä»¤ï¼špip install CACodeFramework
        
        ## å…ˆæ”¾å‡ ä¸ªè¿è¡Œå›¾ä¿å‘½ðŸ¤¡
        
        #### å•çº¿ç¨‹è·‘ 1000 æ¡æ•°æ®,æ²¡å¼€çº¿ç¨‹æ‰€ä»¥æ…¢,å„ä½ä½¿ç”¨çš„æ—¶å€™è·‘è·‘ threading
        
        ### insert:
        
        ![./imgs/insert.gif](./imgs/insert.gif)
        
        ### delete:
        
        ![./imgs/delete.gif](./imgs/delete.gif)
        
        ### update:
        
        ![./imgs/update.gif](./imgs/update.gif)
        
        ### select:
        
        ![./imgs/select.gif](./imgs/select.gif)
        
        # æˆ‘å…ˆè¯´ç‚¹åºŸè¯:ðŸ˜œ
        
        - ä½ ä»¬å°±å½“æˆ‘åœ¨æ”¾å±
            - è¿™æ˜¯ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œæ‰€ä»¥æ•ˆçŽ‡å˜›~~~ï¼ŒðŸ˜œ
                - 15 ç§’ 1000 æ¡æ’å…¥
                - 0.02 ç§’ 1000 æ¡æŸ¥è¯¢
                - 0.03 ç§’ 1000 æ¡æ›´æ–°
                - 0.03 ç§’ 1000 æ¡åˆ é™¤
            - bug çš„è¯æˆ‘è¿™è¾¹æš‚æ—¶æ²¡æ‰¾åˆ°ï¼Œå¦‚æžœä½ åœ¨å“ªæ‰¾åˆ°äº†å°½å¿«å‘Šè¯‰æˆ‘ï¼Œæˆ‘ç»™ä½ å¯„ç¤¼ç‰©ðŸ˜œ
                - è¿™æ˜¯çœŸé€ç¤¼ç‰©ï¼Œæœ‰æ‰‹åŠžï¼Œé”®ç›˜ã€‚é¼ æ ‡ä¹‹ç±»çš„
                - å¦‚æžœä½ æ„¿æ„çš„è¯ï¼Œæˆ‘å¯ä»¥ç»™ä½ æˆ‘çš„äº²ç¬”ç­¾åå“ˆå“ˆå“ˆå“ˆå“ˆ
            - åˆ«éª‚æˆ‘ï¼Œç¬¬ä¸€æ¬¡å†™ python çš„æ¡†æž¶ðŸ˜œ
                - å«Œå¼ƒæˆ‘å†™çš„ä¸å¥½ä½ å°±åˆ«ç”¨ï¼Œè¦ç”¨ä½ è‡ªå·±å†™åŽ»
                - éª‚æˆ‘æˆ‘ä¼šä¼¤å¿ƒï¼Œä½†æ˜¯è¿‡ä¸¤å¤©æˆ‘å°±å½“ä½ æ­»äº†
                - æˆ‘å®¶é‡Œæœ‰ä¸€æœ¬æ°‘æ³•å…¸
                - æˆ‘æœ‰æœ‹å‹åšå¾‹å¸ˆå’Œæ³•å®˜
            - æŽ¥å—æçŒ®ä½†å¸Œæœ›æçŒ®æ˜¯å› ä¸ºè§‰å¾—è¿™ä¸ªæ¡†æž¶å¥½ç”¨è€Œä¸æ˜¯å› ä¸ºæˆ‘çš„å¸…æ°”ðŸ˜œ
                - æˆ‘ä¸ç¼ºé’±
                - ä½ ä»¬çš„é’±ä¸å¤Ÿæˆ‘å¡žç‰™ç¼
        
        # ä½¿ç”¨æŒ‡åŒ—:
        
        #### å…ˆåŽ»çœ‹ test,é‡Œé¢æœ‰ä¸€ä¸ª ã€test.pyã€‘ æ–‡ä»¶,è¯·å…ˆç²—ç•¥æµè§ˆä¸€éè¯¥æ–‡ä»¶å†ç»§ç»­æŸ¥çœ‹æ•™ç¨‹
        
            ðŸ¶ ç‹—å¤´ä¿å‘½,importå…¨å±€
        
            from CACodeFramework.MainWork import CACodeRepository, CACodePojo
            from CACodeFramework.MainWork.Annotations import Table
            from CACodeFramework.util import Config
        
        #### ç¬¬ä¸€æ­¥ï¼Œä½ éœ€è¦ä¸€ä¸ªå…¨å±€çš„ config ç±»ï¼Œå¹¶è®©å…¶ç»§æ‰¿ã€Config.configã€‘
        
            class ConF(Config.config):
                def __init__(self, host='localhost', port=3306, database='demo', user='root', password='123456', charset='utf8'):
                    super(ConF, self).__init__(host, port, database, user, password, charset)
        
        ##### å½“ç„¶ä½ ä¹Ÿå¯ä»¥åŠ ä»¥æ”¹é€ 
        
            class ConF(Config.config):
            def __init__(self, host='localhost', port=3306, database='demo', user='root', password='123456', charset='utf8'):
                configs = {
                    "IMG_SUFFIX": 'bmp jpg png tif gif pcx tga exif fpx svg psd cdr pcd dxf ufo eps ai raw WMF webp avif',
                    "SAVE_PATH": os.sep + 'tickets' + os.sep + 'img'
                }
                super(ConF, self).__init__(host, port, database, user, password, charset, conf=configs)
        
        ##### åƒè¿™æ ·åŠ ä¸Šä½ çš„è‡ªå®šä¹‰é…ç½®ï¼Œç„¶åŽæ”¾åˆ°ä½ å–œæ¬¢çš„ package ä¸‹é¢å°±å¯ä»¥å½“å…¨å±€å˜é‡ä½¿ç”¨äº†ã€‚æˆ‘æ”¾äº†å¥½å‡ ä¸ªæ–¹æ³•åœ¨é‚£é‡Œï¼Œæºç åœ¨è¿™ï¼Œæ„Ÿè§‰è¿˜èƒ½å†æ”¹ï¼š
        
            from CACodeFramework.util import JsonUtil
            
            
            class config(object):
                """
                é…ç½®ç±»:
                    é»˜è®¤å¿…é¡»æºå¸¦æ“ä½œæ•°æ®åº“æ‰€éœ€çš„å‚æ•°:
                        - host:æ•°æ®åº“åœ°å€
                        - port:ç«¯å£
                        - database:æ•°æ®åº“å
                        - user:ç”¨æˆ·å
                        - password:å¯†ç 
                        - charset:ç¼–ç é»˜è®¤utf8
                        - conf:å…¶ä»–é…ç½®
                """
            
                def __init__(self, host, port, database, user, password, charset='utf8', conf=None):
                    """
                    å¿…é¡»è¦æœ‰çš„å‚æ•°
                    :param host:æ•°æ®åº“åœ°å€
                    :param port:ç«¯å£
                    :param database:æ•°æ®åº“å
                    :param user:ç”¨æˆ·å
                    :param password:å¯†ç 
                    :param charset:ç¼–ç é»˜è®¤utf8
                    :param conf:å…¶ä»–é…ç½®
                    """
                    if conf is None:
                        conf = {}
                    self.conf = conf
                    self.host = host
                    self.port = port
                    self.database = database
                    self.user = user
                    self.password = password
                    self.charset = charset
            
                def get(self):
                    """
                    èŽ·å–å½“å‰é…ç½®ç±»
                    :return:
                    """
                    return self
            
                def set_field(self, key, value):
                    """
                    è®¾ç½®å­—æ®µ
                    :param key:é”®
                    :param value:å€¼
                    :return:
                    """
                    self.conf[key] = value
                    return config
            
                def get_field(self, name):
                    """
                    èŽ·å–å­—æ®µ
                    :param name:
                    :return:
                    """
                    _this = self.get_dict()
                    return _this[name]
            
                def get_dict(self):
                    """
                    å°†é…ç½®ç±»è½¬è½¬å­—å…¸
                    :return:
                    """
                    return self.__dict__
            
                def get_json(self):
                    """
                    å°†é…ç½®ç±»è½¬json
                    :return:
                    """
                    return JsonUtil.parse(self.get_dict())
        
        #### ç¬¬äºŒæ­¥ï¼Œä½ éœ€è¦ä¸€ä¸ª POJO ç±»ï¼Œå¹¶è®©å…¶ç»§æ‰¿ ã€CACodePojo.POJOã€‘
        
                class Demo(CACodePojo.POJO):
                    def __init__(self):
                        #è¿™é‡Œå¿…é¡»åœ¨è¿™è®¾ç½®è¡¨çš„å­—æ®µåï¼Œå…¨éƒ¨èµ‹å€¼ä¸º None å°±è¡Œäº†
                        self.index = None
                        self.title = None
                        self.selects = None
                        self.success = None
        
        #### ç¬¬ä¸‰æ­¥ï¼Œå¥½ä½ å·²ç»æˆåŠŸä¸€å¤§åŠäº†ðŸ‘ðŸ‘ï¼ŒæŽ¥ä¸‹æ¥å°±æ˜¯è¦è®¾ç½®ä¸€ä¸ªRepositoryï¼Œå¹¶é€šè¿‡è¿™ä¸ªèµ„æºåº“æ“ä½œæ•°æ®åº“
        
            # åŠ å…¥è¿™ä¸ªæ³¨è§£ï¼Œnameæ˜¯è¡¨ç¤ºä½ æ‰€æ“ä½œçš„è¡¨åï¼Œmsgæ˜¯ä½ è¦å‘Šè¯‰åŽäººè¿™ä¸ªè¡¨æ˜¯ä»€ä¹ˆçŽ©æ„ï¼Œä¸ç„¶åˆ«äººæŽ¥æ‰‹ä½ çš„å‘å°±çœ‹ä¸æ‡‚äº†ðŸ˜Ž
            @Table(name="demo_table", msg="demo message")
            # è¿™é‡Œç»§æ‰¿äº†ã€CACodeRepository.Repositoryã€‘ç±»æ¥æ“ä½œæ•°æ®åº“
            class TestClass(CACodeRepository.Repository):
                def __init__(self):
                    # ä½¿ç”¨çˆ¶ç±»åˆå§‹åŒ–è¿™ä¸ªèµ„æºåº“ï¼Œå¹¶å°†ä¹‹å‰è®¾ç½®å¥½çš„å…¨å±€é…ç½®å¯¼å…¥è¿›æ¥æ”¾è¿›åŽ»
                    # è®°å¾—ä¸€å®šè¦åŠ æ‹¬å·(),å› ä¸ºæˆ‘è¦çš„æ˜¯ä½ çš„å¯¹è±¡ðŸ¤·â€â™‚ï¸ðŸ¤·â€â™‚ï¸
                    # participantsæ˜¯è¦å‚è€ƒè§£æžçš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å’±ä»¬ä¹‹å‰åˆ›å»ºçš„POJOç±»
                    # è¿™é‡Œä¸€æ ·è¦åŠ æ‹¬å·()
                    super(TestClass, self).__init__(config_obj=ConF(), participants=Demo())
        
        ##### æœ€åŽä¸€å°æ­¥äº†ï¼ï¼ï¼ï¼ï¼âœŒäº†è§£å„ä¸ªæ–¹æ³•çš„ä½¿ç”¨
        
        ###### é¦–å…ˆæ˜¯ find_all(),è¿™ä¸ªåº”è¯¥ä¸ç”¨è¯´äº†å§ï¼Œçœ‹åè¯†ä½œç”¨ðŸ‘
        
        ###### ç„¶åŽå°±æ˜¯ find_by_field(*args):
        
            è¿™ä¸ªæ–¹æ³•æ˜¯æŒ‰ç…§å­—æ®µæ¥æŸ¥è¯¢ï¼Œæ¯”å¦‚è¯´ä½ å¯èƒ½ä¸éœ€è¦å…¶ä»–å¤šä½™çš„æ•°æ®ï¼Œæ¯”å¦‚è´¦å·å¯†ç å•¥çš„ä½ å°±å¯ä»¥ä¸è¦äº†ï¼Œå¤šè±ªæ°”çœ‹ä»–ä¸çˆ½å°±ç»™ä»–è¸¢æŽ‰
            attributesï¼šæˆ‘ç”Ÿæ¥è‚¯å®šæ˜¯æœ‰ä½œç”¨çš„ï¼Œæ¯”å¦‚æ‹–ä¸€ä¸‹ç¨‹åºçš„è¿è¡Œ
            æˆ‘ï¼šå¸Œæœ›äººå‡ºäº‹ðŸ™ðŸ™
            ä»–è¿”å›žçš„æ•°æ®é•¿è¿™æ ·ï¼š
        
        ![./imgs/find_by_field.jpg](./imgs/find_by_field.jpg)
        
            å…¶ä»–å­—æ®µä½ ä¸æƒ³è¦å°±å¯ä»¥ä¸è¦ï¼Œè¿™é‡Œæˆ‘é€‰æŸ¥çš„indexå’Œtitleä¸¤ä¸ªå­—æ®µ
            æ•°æ®è¿”å›žçš„æ˜¯list[POJO]ç±»åž‹ï¼Œä¹Ÿå°±æ˜¯ä½ åˆå§‹åŒ–Repositoryé‚£ä¼šè®¾ç½®participantsçš„ç±»åž‹ï¼Œå¦‚æžœä¸æ˜¯ç»§æ‰¿è‡ªã€CACodePojo.POJOã€‘å°±ä¸èƒ½è¿›è¡Œæ“ä½œå“¦
        
        ###### åˆ°äº†åŠ¨æ‰‹çš„æ—¶å€™äº† find_many(sql):ðŸ’ªðŸ’ª
        
            æ‰‹åŠ¨è¾“å…¥sqlè¯­å¥æŸ¥è¯¢
        
        ![./imgs/find_many.jpg](./imgs/find_many.jpg)
        
            æ³¨æ„ï¼ï¼ï¼æŸ¥æ‰¾éžå½“å‰POJOå­˜åœ¨çš„å­—æ®µæ—¶ï¼Œå°½é‡ä½¿ç”¨ as æ”¹ä¸ªåå­—
            å› ä¸ºæˆ‘ç€æ€¥ç”¨ï¼Œæ‰€ä»¥ä¸Šçº¿çš„æ¯”è¾ƒåŒ†å¿™ðŸ˜†
        
        ![./imgs/find_many_2.png](./imgs/find_many_2.png)
        
        ###### æ’å…¥ä¸€æ¡ insert_one(sql):
        
            å¯ä»¥å¤„ç†insertæ“ä½œ,å°†çŽ°æˆå·²æœ‰æ•°æ®çš„POJOæ’å…¥åˆ°æ•°æ®åº“
            è¿”å›žå—å½±å“è¡Œæ•°
        
        ###### æ’å…¥å¤šæ¡ insert_many(sql):
        
            è°ƒç”¨insert_one(sql)æ’å…¥å¤šæ¡
        
        ###### æ›´æ–°æ“ä½œ updates(sql):
        
            ç”±äºŽåˆ é™¤ä¹Ÿæ˜¯æ›´æ–°æ“ä½œï¼Œæ‰€ä»¥è¿™é‡Œå°±æ²¡æœ‰å¤šå†™ä¸€ä¸ªdelete(sql)äº†
        
        ## å¥½äº†ï¼Œæ•™ç¨‹åˆ°è¿™å°±ç»“æŸäº†ï¼Œæˆ‘ä¹Ÿæ‡’å¾—å†™äº†
        
        ## å†æ¥ä¸€æ³¢èµžåŠ©å•†çš„å¤§LOGO
        
        my wechat: cacode
        
        ## è“æ˜Ÿç¯å¡”ç§‘æŠ€
        
        ![./imgs/logo_tr_title.png](./imgs/logo_tr_title.png)
        
        ## CACode å¼€å‘å›¢é˜Ÿ
        
        ![./imgs/icon_dev.png](./imgs/icon_dev.png)
Platform: UNKNOWN
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.6
Description-Content-Type: text/markdown
